package zadachaFraction;

public class Fraction {
private long num,den;
private long gcd() {//метод за намиране на НОД и съкращаване максимално на дробта
	long n=num,d=den,//въведждат се копия на num и den за да не се развалят оригиналните числа
			t;//въвежда сес допълнителна променлива за swap
	if(n==0||d==0) return 0; //ако числителя или знам. е 0, няма какво повече да се съкращава
	if(n<0) n=-n;//прави двете стойности задължително положителни, за по лесна работа с числата
	if(d<0) d=-d;
	if(n<d) {
		t=n;
		n=d;
		d=t;//ако знаменателя е по-голям, методът им разменя числата, за да може да делим числителя на знаменателя
	}
	do {
		t=n%d;
		if(t==0) return d;
		n=d;
		d=t;
	}while(true);//безкраен цикъл, целящ да намери НОД, като прави деление на числител със знаменател, и намира остатъка
}
private void norm() {//"нормален вид на дробта"(минус в числител),както и дали дробта може да се съкарти(напр. 2/4 и 1/2)
	if(den==0) return;//ако знам. е 0 се връща
	if(num==0) {
		den=1; return;//ако числ в е 0, програмата задава за знам. 1 и се връща, защото няма какво да се "нормализира"
	}
	if(den<0) {
		num=-num;den=-den;//ако има минус в знаменятеля
	}
	long d=gcd();//допълнителна променлива, която да съкрати възможно числителя и знаменателя чрез метода gcd
	num/=d;
	den/=d;
}
public Fraction(long n, long d) {//КОНСТРУТОР(той не извежда нищо, чрез него само се въвежда)
	num=n;
	den=d;
	norm();
}
public Fraction(long n) {//какво да изпише ако се въведе само знаменател
	num=n;
	den=1;
}
public Fraction() {//какво да изпише ако се въведе празен низ
	num=0;den=1;
}public String toString() {//оформление на изхода
	if(den==0) return "NaN";
	if(den==1) return Long.toString(num);
	return num+"/"+den;
	
}
public Fraction add(Fraction g) {
	return new Fraction(num*g.den+g.num*den,den*g.den);
}
}
